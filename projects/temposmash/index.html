<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="theme-color" content="#161616">
    <link rel="icon" href="images/favicon.png">

    <title>TempoSmash | Kevin's Web Portfolio</title>

    <!-- Bootstrap and page CSS -->
    <link href="../../styles/bootstrap.min.css" rel="stylesheet">
    <link href="../../styles/animate.min.css" rel="stylesheet">
    <link href="../../styles/main.css" rel="stylesheet">
</head>

<body>
    <!-- Content invisible. -->
    <script>
        document.body.classList.add('fadeout');
    </script>

    <!-- NAVBAR START -->
    <nav class="navbar navbar-expand-lg fixed-top navbar-dark bg-dark main-shadow">
        <h3 class="main-header pr-3">TempoSmash</h3>

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active pr-1">
                    <a class="nav-link" href="../..">
                        Home
                    </a>
                </li>

                <div class="d-none d-lg-inline-flex pr-1 v-divide"></div>

                <li class="nav-item active">
                    <a class="nav-link" href="https://github.com/Kevinsomnia/kevinsomnia.github.io/tree/master/projects/temposmash"
                        target="_blank">
                        View source on &nbsp;<img src="../../images/github.png" style="width:24px; height:24px">
                    </a>
                </li>

                <!-- Mobile help link (hide on desktop) -->
                <li class="nav-item active">
                    <a class="d-inline-flex d-lg-none nav-link" href="#" data-toggle="modal" data-target="#helpModal">
                        Help / FAQ
                    </a>
                </li>

            </ul>

            <a class="pr-3" href="https://soundcloud.com" target="_blank">
                <img src="https://developers.soundcloud.com/assets/powered_by_white-371bd6967352fcc89673d4c81f7e5661.png"
                    alt="Powered by SoundCloud">
            </a>

            <!-- Desktop help button (hide on mobile) -->
            <button class="d-none d-lg-inline-flex btn btn-primary btn-md" data-toggle="modal" data-target="#helpModal"
                style="background-color:#ac8f53" role="button">
                ? &nbsp;Help / FAQ
            </button>
        </div>
    </nav>
    <!-- NAVBAR END-->

    <main role="main">
        <div class="project-container">
            <!-- START BODY UI -->

            <audio id="audioPlayer"></audio>

            <h5 class="main-header">This game currently does not support mobile devices. Also, doesn't work on Firefox
                yet!</h5>

            <div class="row">
                <div class="col-8">
                    <div class="form-group">
                        <input id="scLink" class="form-control" type="text" placeholder="Paste the SoundCloud link here">
                    </div>
                </div>

                <div class="col-2">
                    <button id="playBtn" class="btn btn-primary btn-md wide-button" onclick="onPressPlay()" style="background-color:#2b4964"
                        role="button">Play</button>
                </div>

                <div class="col-2">
                    <button id="settingsBtn" class="btn btn-primary btn-md wide-button" style="background-color:#739b53"
                        data-toggle="modal" data-target="#settingsModal" role="button">Settings</button>
                </div>
            </div>

            <canvas id="gameView"></canvas>

            <!-- END UI -->
        </div> <!-- /project-body -->
    </main>


    <div id="settingsModal" class="modal fade" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-lg" style="transition:-webkit-transform 0.2s" role="document">
            <div class="modal-content" style="background-color: #2d2a31f1;outline:solid 2px; outline-color: #37547eb0">
                <div class="modal-header">
                    <h5 class="modal-title">Settings</h5>
                </div>

                <div class="modal-body">
                    <div class="row">
                        <div class="col-9 col-md-8 col-lg-5" data-toggle="tooltip" data-placement="bottom" data-html="true"
                            title="Something will be here later.">
                            I Am A Toggle Switch:
                        </div>

                        <div class="col">
                            <label class="switch">
                                <input id="testing" type="checkbox">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                </div>

                <button id="closeSettings" type="button" class="btn btn-secondary" data-dismiss="modal">Done</button>
            </div>
        </div>
    </div>

    <div id="helpModal" class="modal fade" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-lg" style="transition:-webkit-transform 0.2s" role="document">
            <div class="modal-content" style="background-color: #2d2a31f1;outline:solid 2px; outline-color: #37547eb0">
                <div class="modal-header">
                    <h5 class="modal-title">How To Play TempoSmash</h5>
                </div>

                <div class="modal-body">
                    <ul>
                        <li>
                            Why is the beat detection so trash?
                        </li>
                        <ul>
                            <li>
                                Please don't make fun of me.
                            </li>
                        </ul>

                        <li>
                            Why is the sound not loading or taking so long?
                        </li>
                        <ul>
                            <li>
                                The time it takes to load also depends on your internet connection speed and if your
                                computer processor speed. Other times, SoundCloud doesn't allow you to download that
                                track, but most of the tracks should work as long as it's not a SoundCloud Go track.
                            </li>
                        </ul>

                        <li>
                            Will you support custom beatmaps or a beatmap editor?
                        </li>
                        <ul>
                            <li>
                                Yeah, probably in the future. It sounds like a lot of work, so I will probably do it
                                when I'm bored.
                            </li>
                        </ul>

                        <li>
                            If you are still having other issues, please post it on the GitHub
                            repository and I will try to fix it. Be sure to look at the console (Ctrl-Shift-J on
                            Chrome) for any errors.
                        </li>
                    </ul>
                </div>

                <button type="button" class="btn btn-secondary" data-dismiss="modal">Nice!</button>
            </div>
        </div>
    </div>

    <script src="../../scripts/popper.min.js"></script>
    <script src="../../scripts/jquery-3.3.1.min.js"></script>
    <script src="../../scripts/bootstrap.min.js"></script>
    <script src="../../scripts/bootstrap-notify.min.js"></script>
    <script src="../../scripts/main.js"></script>
    <script src="https://connect.soundcloud.com/sdk.js"></script>
    <script src="scripts/temposmash.js"></script>

    <script>
        // Fade in page after done loading.
        window.onload = function () {
            // Initialize tooltips for the entire page.
            $('[data-toggle="tooltip"]').tooltip();

            document.body.addEventListener('keydown', onKeyDown);
            document.body.addEventListener('keyup', onKeyUp);
            initController();

            setTimeout(function () {
                // Fade in page.
                document.body.classList.remove('fadeout');
            }, 50);
        };
    </script>

</body>

</html>